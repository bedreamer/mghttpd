<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>预览</title>

  <!--- Site CSS -->
  <link rel="stylesheet" type="text/css" href="/static/semantic/semantic.css">
  <script src="/static/js/jquery.js"></script>
  <script src="/static/semantic/semantic.js"></script>
    <script src="/static/js/jmodels/jmodels.js" type="text/javascript"></script>

  <!--- Example CSS -->
  <style>
  body {
    padding: 1em;
  }
  .ui.menu {
    margin: 3em 0em;
  }
  .ui.menu:last-child {
    margin-bottom: 110px;
  }
  </style>

  <!--- Example Javascript -->
  <script>
      var begin_index = -5;
  $(document).ready(function() {
      $('.ui.menu .ui.dropdown').dropdown({on: 'hover'});
      $('.ui.menu a.item').on('click', function() {
          $(this).addClass('active').siblings().removeClass('active');
      });

        $.getJSON("/linkage/json/", '', function (data, status, xhr) {
            let width = Number($("#id_canvas_body").css("width").slice(0, -2));

            var painter = new JPaintbord('paint', width, 800, data, {});
            painter.begin();
            painter.render();
            painter.update();
        });
  });


  </script>
</head>
<body>

<div class="ui inverted fluid menu">
  <div class="header item">JModels-预览</div>
  <div class="right menu">
    <a class="item green button" href="/linkage/edit/">
        <button class="ui button red">
            <i class="edit icon"></i>
            编辑
        </button>
    </a>
  </div>
</div>

<div id="id_canvas_body" class="ui fluid">
    <canvas id="paint"></canvas>
</div>

</body>
</html>
